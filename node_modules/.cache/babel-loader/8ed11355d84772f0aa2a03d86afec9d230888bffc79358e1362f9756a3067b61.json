{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\my-irbm\\\\src\\\\components\\\\MyTitle.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNode } from \"@craftjs/core\";\nimport ContentEditable from \"react-contenteditable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MyTitle({\n  text,\n  userEditable = true,\n  className = '',\n  fontSize = '20'\n}) {\n  _s();\n  const [editable, setEditable] = useState(false);\n  const {\n    connectors: {\n      connect,\n      drag\n    },\n    selected,\n    actions: {\n      setProp\n    }\n  } = useNode(state => ({\n    selected: state.events.selected,\n    dragged: state.events.dragged\n  }));\n  useEffect(() => {\n    if (selected) {\n      return;\n    }\n    if (userEditable) {\n      setEditable(false);\n    }\n  }, [selected]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: userEditable ? /*#__PURE__*/_jsxDEV(ContentEditable, {\n      html: text\n      // disabled={!editable}\n      ,\n      onChange: e => setProp(props => props.text = e.target.value.replace(/<\\/?[^>]+(>|$)/g, \"\"), 500),\n      tagName: \"p\",\n      style: {\n        fontSize: `${fontSize}px`\n      },\n      className: className\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      ref: ref => connect(drag(ref)),\n      onClick: () => {\n        alert('Clicked');\n        selected && userEditable && setEditable(true);\n      },\n      className: \"display-inline\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 37\n    }, this)\n  }, void 0, false);\n}\n_s(MyTitle, \"AfyeELwsNW2PamPrXPVGwRl/ViY=\", false, function () {\n  return [useNode];\n});\n_c = MyTitle;\nconst TextSettings = () => {\n  _s2();\n  const {\n    actions: {\n      setProp\n    },\n    fontSize\n  } = useNode(node => ({\n    text: node.data.props.text,\n    fontSize: node.data.props.fontSize\n  }));\n  return /*#__PURE__*/_jsxDEV(\"label\", {\n    children: [\"Font size\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      defaultValue: fontSize || 7,\n      step: 7,\n      min: 1,\n      max: 50,\n      onChange: e => {\n        setProp(props => props.fontSize = e.target.value, 1000);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s2(TextSettings, \"moep/UtFW4RxZSePdOVkAmNLMMk=\", false, function () {\n  return [useNode];\n});\n_c2 = TextSettings;\nexport const TextDefaultProps = {\n  text: \"Hi\",\n  fontSize: 20\n};\nText.craft = {\n  props: TextDefaultProps,\n  related: {\n    settings: TextSettings\n  }\n};\nvar _c, _c2;\n$RefreshReg$(_c, \"MyTitle\");\n$RefreshReg$(_c2, \"TextSettings\");","map":{"version":3,"names":["React","useEffect","useState","useNode","ContentEditable","jsxDEV","_jsxDEV","Fragment","_Fragment","MyTitle","text","userEditable","className","fontSize","_s","editable","setEditable","connectors","connect","drag","selected","actions","setProp","state","events","dragged","children","html","onChange","e","props","target","value","replace","tagName","style","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","alert","_c","TextSettings","_s2","node","data","type","defaultValue","step","min","max","_c2","TextDefaultProps","Text","craft","related","settings","$RefreshReg$"],"sources":["C:/laragon/www/my-irbm/src/components/MyTitle.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNode } from \"@craftjs/core\";\r\nimport ContentEditable from \"react-contenteditable\";\r\n\r\nexport default function MyTitle({text, userEditable = true, className = '' , fontSize ='20' }) {\r\n  \r\n  const [editable, setEditable] = useState(false);\r\n\r\n    const {\r\n        connectors: { connect, drag },\r\n        selected,\r\n        actions: { setProp },\r\n      } = useNode((state) => ({\r\n        selected: state.events.selected,\r\n        dragged: state.events.dragged,\r\n      }));\r\n\r\n      useEffect(() => {\r\n        if (selected) {\r\n          return;\r\n        }\r\n    \r\n        if (userEditable) {\r\n          setEditable(false);\r\n        }\r\n      }, [selected]);\r\n\r\n      \r\n\r\n  return (\r\n    <>\r\n    { userEditable ?  (<ContentEditable\r\n      \r\n      html={text}\r\n      // disabled={!editable}\r\n      onChange={(e) =>\r\n        setProp(\r\n          (props) =>\r\n            (props.text = e.target.value.replace(/<\\/?[^>]+(>|$)/g, \"\")),\r\n          500\r\n        )\r\n      }\r\n      tagName=\"p\"\r\n      style={{ fontSize: `${fontSize}px` }}\r\n      className={className} />) :   <h1  ref={(ref) => connect(drag(ref))} \r\n      onClick={() =>  {\r\n        alert('Clicked');\r\n        selected && userEditable && setEditable(true); }}\r\n      className='display-inline'>{text}</h1> }\r\n      </>\r\n  \r\n  )\r\n}\r\n\r\n\r\n\r\nconst TextSettings = () => {\r\n  const {\r\n    actions: { setProp },\r\n    fontSize,\r\n  } = useNode((node) => ({\r\n    text: node.data.props.text,\r\n    fontSize: node.data.props.fontSize,\r\n  }));\r\n\r\n  return (\r\n    <label>\r\n      Font size\r\n      <input\r\n        type=\"range\"\r\n        defaultValue={fontSize || 7}\r\n        step={7}\r\n        min={1}\r\n        max={50}\r\n        onChange={(e) => {\r\n          setProp((props) => (props.fontSize = e.target.value), 1000);\r\n        }}\r\n      />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport const TextDefaultProps = {\r\n  text: \"Hi\",\r\n  fontSize: 20,\r\n};\r\n\r\nText.craft = {\r\n  props: TextDefaultProps,\r\n  related: {\r\n    settings: TextSettings,\r\n  },\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}